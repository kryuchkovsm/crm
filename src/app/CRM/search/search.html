<div class="row">
  <div class="col-md-12">
    <!-- BEGIN Portlet PORTLET-->
    <div class="portlet box">
      <div class="portlet-title ThemeColor">
        <div class="caption">
          {{ "crm.search.search.search-options" | translate }}
        </div>
      </div>
      <div class="portlet-body" style="display: block;">
        <div class="row">
          <div class="col-md-8">
            <div class="well well-sm TitleBars">
              <span class="block">{{ "crm.search.search.choose-clients-to-search" | translate }}:</span>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div
                  ng-dropdown-multiselect=""
                  options="clientsData"
                  selected-model="clientsModel"
                  extra-settings="clientsSettings"
                  >
                </div>
              </div>
              <div class="col-md-6 ">
                <div
                  ng-dropdown-multiselect=""
                  options="sitesData"
                  selected-model="sitesModel"
                  extra-settings="sitesSettings">
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="well well-sm TitleBars">
              <span class="block">{{ "crm.search.search.search-options" | translate }}:</span>
            </div>
            <div
              crm-radio-list=""
              options="fieldOptions.stepRLOptions"
              value="fields.stepRLValue">
            </div>
            <div
              crm-radio-list=""
              options="fieldOptions.transactionTypeRLOptions"
              value="fields.transactionTypeRLValue">
            </div>
            <div
              crm-radio-list=""
              options="fieldOptions.chargeTypeRLOptions"
              value="fields.chargeTypeRLValue">
            </div>
            <div
              crm-radio-list=""
              options="fieldOptions.recurringStatusRLOptions"
              value="fields.recurringStatusRLValue">
            </div>
            <div
              crm-radio-list=""
              options="fieldOptions.orderTypeRLOptions"
              value="fields.orderTypeRLValue">
            </div>
          </div>
        </div>

        <div class="well well-sm TitleBars">
          <span class="block">{{ "crm.search.search.customer-search-criteria" | translate }}:</span>
        </div>

        <div class="row">
          <form name="customerSearchForm" ng-model="customerSearchForm" id="customer-search-form">
            <div class="col-md-4">
              <div
                crm-text-input=""
                options="fieldOptions.customerIdTxtOptions"
                value="fields.customerIdTxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.transactionIdTxtOptions"
                value="fields.transactionIdTxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.firstNameTxtOptions"
                value="fields.firstNameTxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.lastNameTxtOptions"
                value="fields.lastNameTxtValue">
              </div>
            </div>
            <div class="col-md-4">
              <div
                crm-text-input=""
                options="fieldOptions.emailTxtOptions"
                value="fields.emailTxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.ccLast4TxtOptions"
                value="fields.ccLast4TxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.phoneNumTxtOptions"
                value="fields.phoneNumTxtValue">
              </div>
              <div class="well well-sm well-light bg-greyEEE">
                <span class="block">{{ "crm.search.search.account-number" | translate }}:</span>
                <div
                  crm-text-input=""
                  options="fieldOptions.accountNumberTxtOptions"
                  value="fields.accountNumberTxtValue">
                </div>
                <div
                  crm-radio-list=""
                  options="fieldOptions.accountNumberRLOptions"
                  value="fields.accountNumberRLValue">
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div
                crm-text-input=""
                options="fieldOptions.zipCodeTxtOptions"
                value="fields.zipCodeTxtValue">
              </div>
              <div
                crm-text-input=""
                options="fieldOptions.refNumberTxtOptions"
                value="fields.refNumberTxtValue">
              </div>
              <div class="well well-sm well-light bg-greyEEE">
                <span class="block">{{ "crm.search.search.order-dates" | translate }}:</span>
                <div
                  crm-date-picker=""
                  options="fieldOptions.fromDateOptions"
                  value="fields.fromDateValue">
                </div>
                <div class="margin-top-5">
                  <div
                    crm-date-picker=""
                    options="fieldOptions.toDateOptions"
                    value="fields.toDateValue">
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="row" ng-show="sitesModel.length==0 && notes.sitesRequired">
          <div class="col-md-12">
            <div class="Metronic-alerts alert alert-danger fade in font-size-15">
              <a href="javascript:;" ng-click="notes.sitesRequired=false"><i class="fa text-FontColor fa-times close"></i></a>
              {{ "crm.search.search.select-sites-please" | translate }}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-sm-6 margin-bottom-10">
            <a href="javascript:;" class="btn btn-lg CancelColor full-width" ng-click="reset('#customer-search-form')" ng-disabled="searching">
              <i class="fa fa-rotate-left"></i>
              {{ "crm.search.search.clear-search" | translate }}
            </a>
          </div>
          <div class="col-md-6 col-sm-6">
            <a href="javascript:;" class="btn btn-success btn-lg ApplyColor full-width" ng-click="search()" ng-disabled="searching">
              <span ng-show="searching">...{{ "crm.search.search.searching" | translate }}...</span>
              <span ng-hide="searching">
                <i class="fa fa-arrow-right"></i>
                {{ "crm.search.search.search" | translate }}
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- END Portlet PORTLET-->
  </div>
</div>

<div id="bottom">
  <div class="row" ng-show="notes.noRecords">
    <div class="col-md-12">
      <div class="Metronic-alerts alert alert-warning fade in font-size-15">
        <a href="javascript:;" ng-click="notes.noRecords=false"><i class="fa text-FontColor fa-times close"></i></a>
        {{ "crm.search.search.no-records-found!" | translate }}
      </div>
    </div>
  </div>
  <div class="row" ng-show="showTable">
    <div class="col-md-12">
      <!-- BEGIN Portlet PORTLET-->
      <div class="portlet box">
        <div class="portlet-title ThemeColor">
          <div class="caption">
            {{ "crm.search.search.search-results" | translate }}
          </div>
        </div>
        <div class="portlet-body" style="display: block;">
          <section st-table="customersDisplayed" st-safe-src="customers">
            <div class="table-scrollable">
              <table class="table table-striped table-auto-layout">
                <thead>
                  <tr class="TitleBars top-radius white">
                    <th st-ratio="10" st-sort="CustomerID" class="cursor-pointer">{{ "crm.search.search.customer" | translate }}</th>
                    <th st-ratio="8" st-sort="SiteID" class="cursor-pointer">{{ "crm.search.search.site-id" | translate }}</th>
                    <th st-ratio="11" st-sort="Transactionid" class="cursor-pointer">{{ "crm.search.search.transaction" | translate }}</th>
                    <th st-ratio="8" st-sort="Date" class="cursor-pointer">{{ "crm.search.search.date" | translate }}</th>
                    <th st-ratio="8" st-sort="ChargeType" class="cursor-pointer">{{ "crm.search.search.charge" | translate }}</th>
                    <th st-ratio="12" st-sort="Name" class="cursor-pointer">{{ "crm.search.search.name-on-card" | translate }}</th>
                    <th st-ratio="9" st-sort="TransactionType" class="cursor-pointer">{{ "crm.search.search.type" | translate }}</th>
                    <th st-ratio="8" st-sort="Results" class="cursor-pointer">{{ "crm.search.search.results" | translate }}</th>
                    <th st-ratio="8" st-sort="ProcessingStatus" class="cursor-pointer">{{ "crm.search.search.status" | translate }}</th>
                    <th st-ratio="11" class="cursor-pointer">{{ "crm.search.search.chargeback" | translate }}?</th>
                    <th st-ratio="8" class="cursor-pointer">{{ "crm.search.search.fraud" | translate }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="row in customersDisplayed track by row.id">
                    <td st-ratio="10">
                      <a href="/#/customer/{{row.Guid}}">{{::row.CustomerID}}</a>
                    </td>
                    <td st-ratio="8" ng-bind="row.SiteID"></td>
                    <td st-ratio="11" ng-bind="row.Transactionid"></td>
                    <td st-ratio="8" ng-bind="toDateFormat(row.Date * 1000, true)"></td>
                    <td st-ratio="8" ng-bind="row.ChargeType"></td>
                    <td st-ratio="12" ng-bind="row.Name"></td>
                    <td st-ratio="9" ng-bind="row.TransactionType"></td>
                    <td st-ratio="8">
                      <div style="max-width: 100px">{{row.Results}}</div>
                    </td>
                    <td st-ratio="8" ng-bind="row.ProcessingStatus"></td>
                    <td st-ratio="11" class="center-text">
                      {{row.IsChargeback ? 'Yes' : 'No'}}
                      <!--<input type="checkbox" disabled ng-model="row.IsChargeback">-->
                    </td>
                    <td st-ratio="8" class="center-text">
                      {{row.IsFraud ? 'Yes' : 'No'}}
                      <!--<input type="checkbox" disabled ng-model="row.IsFraud">-->
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="center-text">
              <div st-items-by-page="10" st-page-change="tablePageChange(newPage, itemsByPage)"  st-pagination=""></div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>
</div>

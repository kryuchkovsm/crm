<div class="row">
  <div class="col-md-12">
    <!-- BEGIN Portlet PORTLET1-->
    <div
      crm-select-clients-dates
      type-of-report="'projection'"
      options="clientDatesOptions"
      value="clientDatesValue"
      searchf="search()"
      >
    </div>
    <!-- END Portlet PORTLET1-->
    <!-- BEGIN Portlet PORTLET2-->
    <div class="portlet box" ng-show="dataReady">
      <div
        crm-portlet-header=""
        options="portletHeaderOptions2"
        >
      </div>
      <div class="portlet-body" style="display: block;">
        <div class="row" >
          <div class="col-md-6">
            <span class="block margin-bottom-20 text-FontColor center-text">{{ "reports.projectionreport.projectionreport.projected" | translate }}</span>
            <div
              ng-if="haveProjData"
              crm-piechart=""
              options="piechartOptions1"
              >
            </div>
            <div ng-if="!haveProjData"
                 class="Metronic-alerts alert alert-warning font-size-15 center-text"
              >
              {{ "reports.projectionreport.projectionreport.no-data" | translate }}
            </div>
          </div>
          <div class="col-md-6">
            <span class="block margin-bottom-20 text-FontColor center-text">{{ "reports.projectionreport.projectionreport.actual" | translate }}</span>
            <div
              ng-if="haveActData"
              crm-piechart=""
              options="piechartOptions2"
              >
            </div>
            <div ng-if="!haveActData"
                 class="Metronic-alerts alert alert-warning font-size-15 center-text"
              >
              {{ "reports.projectionreport.projectionreport.no-data" | translate }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- END Portlet PORTLET2-->
    <div id="bottom"></div>
    <!-- BEGIN Portlet PORTLET3-->
    <div class="portlet box" ng-show="dataReady">
    <!--<div class="portlet box">-->
      <div
        crm-portlet-header=""
        options="portletHeaderOptions3"
        >
      </div>
      <div class="portlet-body" style="display: block;">
        <!--<div class="tablePortletButtons">
          <a
            href="javascript:;"
            ng-csv="exportToExcel(keysHeader, tableObjSafe)"
            filename="export.csv"
            csv-header="exportToExcel(keysHeader, tableObjSafe, true)"
            >
            <i class="fa fa-file-excel-o"></i>
          </a>
        </div>-->
        <div ng-hide="tableObjSafe.length" class="Metronic-alerts alert alert-warning font-size-15 center-text">
          {{ "reports.projectionreport.projectionreport.no-data" | translate }}
        </div>
        <div ng-show="tableObjSafe.length" st-table="tableObj" st-safe-src="tableObjSafe">
          <div class="row">
            <div class="col-md-12 padding-left-right-3">
              <div class="fixed-table-header">
              <table class="table scrollable table-striped" heq="1" table-height="400" fixed-header arr="tableObj">
                <thead>
                    <tr class="TitleBars top-radius white">
                      <th colspan="1" class="cursor-pointer" st-sort="date">{{ "reports.projectionreport.projectionreport.date" | translate }}</th>
                      <th colspan="2">{{ "reports.projectionreport.projectionreport.projected-recurrings" | translate }}</th>
                      <th colspan="2">{{ "reports.projectionreport.projectionreport.projected-approved" | translate }}</th>
                      <th colspan="2">{{ "reports.projectionreport.projectionreport.projected-refunds" | translate }}</th>
                      <th colspan="1" class="cursor-pointer" st-sort="prSettled">{{ "reports.projectionreport.projectionreport.projected-settled" | translate }}</th>
                    </tr>
                    <tr class="TitleBars white">
                      <th>&nbsp;</th>
                      <th st-sort="id" class="cursor-pointer">#</th>
                      <th st-sort="name" class="cursor-pointer">$</th>
                      <th st-sort="name" class="cursor-pointer">#</th>
                      <th st-sort="id" class="cursor-pointer">$</th>
                      <th st-sort="name" class="cursor-pointer">#</th>
                      <th st-sort="name" class="cursor-pointer">$</th>
                      <th>&nbsp;</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr ng-repeat="row in tableObj">
                      <td class="center-text">{{dateFromServer(row.Date)}}</td>
                      <td class="center-text">
                        <span ng-if="!row.ProjectedRecurrings">{{row.ProjectedRecurrings}}</span>
                        <a ng-if="row.ProjectedRecurrings" ng-click="showSummaryDetails({Date: row.Date, CompanyFilter: '', SiteFilter: ''}, tableFiltersValue, 'projection')">
                          {{row.ProjectedRecurrings}}
                        </a>
                      </td>
                      <td class="center-text" ng-init="normCurrency(row.KeyID, 'ProjectedRecurringsDollars')">{{row.ProjectedRecurringsDollars}}</td>
                      <td class="center-text" ng-bind="row.ProjectedApproved"></td>
                      <td class="center-text" ng-init="normCurrency(row.KeyID, 'ProjectedApprovedDollars')">{{row.ProjectedApprovedDollars}}</td>
                      <td class="center-text" ng-bind="row.ProjectedRefunds"></td>
                      <td class="center-text" ng-init="normCurrency(row.KeyID, 'ProjectedRefundsDollars')">{{row.ProjectedRefundsDollars}}</td>
                      <td class="center-text" ng-init="normCurrency(row.KeyID, 'ProjectedSettledDollars')">{{row.ProjectedSettledDollars}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- END Portlet PORTLET3-->
  </div>
</div>

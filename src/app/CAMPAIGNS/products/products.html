<div class="row">
  <div class="col-md-12 no-padding" ng-if="errorMessage">
    <div class="Metronic-alerts alert alert-warning fade in font-size-15">
      <a href="javascript:;" ng-click="closeNotice()"><i class="fa text-FontColor fa-times close"></i></a>
      {{ "campaigns.products.products.server-error" | translate }}! {{::errorMessage}}
    </div>
  </div>
  <div class="col-md-12">
      <div class="row ">
        <!-- BEGIN Portlet PORTLET-->
        <div class="portlet box">
          <div
            crm-portlet-header=""
            options="productGroupsHeaderOptions"
            >
          </div>
          <div class="portlet-body" style="display: block;">
            <div>
              <div class="row">
                <div class="col-md-2" style="text-align: center">
                  <a href="javascript:;" class="btn btn-lg ApplyColor margin-bottom-20 full-width" ng-click="addEditProductGroup()">
                    <i class="fa fa-plus"></i>
                    {{ "campaigns.products.products.add-new" | translate }}
                  </a>
                </div>
                <div class="col-md-2" style="text-align: center">
                  <a href="javascript:;" class="btn btn-lg ApplyColor margin-bottom-20 full-width" ng-click="importProducts()">
                    <i class="fa fa-upload"></i>
                    {{ "campaigns.products.products.import" | translate }}
                  </a>
                </div>
                <div class="col-md-2 pull-right" style="text-align: center">
                  <a href="javascript:;" class="btn btn-lg btn-danger margin-bottom-20 full-width" ng-click="dumpUntiedGroups()">
                    <i class="fa fa-exclamation-circle"></i>
                    {{ "campaigns.products.products.dump-untied-groups" | translate }}
                  </a>
                </div>
              </div>

              <div class="row">
                <div class="col-md-12" ng-if="noProductGroupsMessage">
                  <div class="Metronic-alerts alert alert-warning fade in font-size-15">
                    <a href="javascript:;" ng-click="closeNotice()">
                      <i class="fa text-FontColor fa-times close"></i>
                    </a>
                    {{::noProductGroupsMessage}}
                  </div>
                </div>
              </div>
              <section st-table="productGroups" st-safe-src="productGroupsSafe" ng-show="productGroupsSafe.length">
                <div class="tableSearchInput top-minus-35">
                  <input st-search class="form-control st-search-input" placeholder="Search products"  type="search"/>
                  <i class="fa fa-search"></i>
                </div>
                <div class="table-scrollable">
                  <table class="table table-striped table-auto-layout" ng-show="productGroupsSafe.length">
                    <thead ng-if="!noProductGroupsMessage && !errorMessage">
                      <tr class="TitleBars top-radius white">
                        <th st-ratio="7" class="cursor-pointer" st-sort="ID">{{ "campaigns.products.products.id" | translate }}</th>
                        <th st-ratio="35" class="cursor-pointer" st-sort="Name">{{ "campaigns.products.products.name" | translate }}</th>
                        <th st-ratio="10">{{ "campaigns.products.products.sites" | translate }}</th>
                        <th st-ratio="8">{{ "campaigns.products.products.charges" | translate }}</th>
                        <th st-ratio="26">{{ "campaigns.products.products.api-key" | translate }}</th>
                        <th st-ratio="8" >{{ "campaigns.products.products.active" | translate }}?</th>
                        <th st-ratio="6">{{ "campaigns.products.products.actions" | translate }}</th>
                      </tr>
                    </thead>
                    <tbody ng-if="!noProductGroupsMessage && !errorMessage">
                      <tr ng-repeat="row in productGroups">
                        <td st-ratio="7">{{row.ID}}</td>
                        <td st-ratio="35">{{row.Name}}</td>
                        <td st-ratio="10" nowrap>
                          <p ng-if="!row.sitesAmount">-</p>
                          <a ng-if="row.sitesAmount" href="javascript:;" ng-click="showSites(row.Sites)">
                            <i class="fa fa-list text-warning"></i> {{ "campaigns.products.products.view" | translate }} ({{row.sitesAmount}})
                          </a>
                        </td>
                        <td st-ratio="8" class="center-text" nowrap>
                          <a ng-click="showCharges(row)" >
                            <i class="fa fa-list text-warning"></i> {{ "campaigns.products.products.view" | translate }} ({{row.chargesAmount}})
                          </a>
                        </td>
                        <td st-ratio="26">{{row.ApiKey}}</td>
                        <td st-ratio="8" class="center-text">{{row.IsActive ? 'Yes' : 'No'}}</td>
                        <td st-ratio="6" class="center-text">
                          <a href="javascript:;" ng-click="addEditProductGroup(row)"><i class="fa fa-pencil"></i></a>
                          <a href="javascript:;" ng-click="deletePG(row)"><i class="fa fa-times"></i></a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="center-text">
                  <div  st-items-by-page="10" st-pagination=""></div>
                </div>
              </section>
            </div>
            <div class="alert alert-warning" role="alert" ng-hide="productGroups.length">{{ "campaigns.products.products.no-data" | translate }}</div>
          </div>
        </div>
        <!-- END Portlet PORTLET-->
      </div>
  </div>
</div>


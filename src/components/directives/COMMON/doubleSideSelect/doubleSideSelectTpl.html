<div class="multiSelect">

  <div class="selectWrap">
    <label class="control-label" for="multiSelectSelected">{{ selectedLabel }}
      ({{ model.length }})
    </label>
    <div class="select">
      <ul class="no-padding">
        <li ng-repeat="entity in model">
          <label class="checkbox" title="{{ renderTitle(entity) }}" ng-class="{'checked':selected.current[$index].selected}">
            <div class="checker" ng-click="selected.current[$index].selected=!selected.current[$index].selected">
              <span ng-class="{checked: selected.current[$index].selected}"></span>
            </div>

            <!--<input type="checkbox" class="checkbox" ng-model="selected.current[$index].selected">-->
            {{ renderItem(entity) }}
          </label>
        </li>
      </ul>
    </div>
  </div>

  <div class="buttons">
    <button class="btn mover left ActiveElementColor"
            ng-click="add()"
            title="Add selected"
            ng-disabled="!selected(selected.available).length">
      <i class="fa fa-arrow-left"></i>
    </button>
    <button class="btn mover right ActiveElementColor"
            ng-click="remove()"
            title="Remove selected"
            ng-disabled="!selected(selected.current).length">
        <i class="fa fa-arrow-right"></i>
    </button>
  </div>

  <div class="selectWrap">
    <label class="control-label" for="multiSelectAvailable">{{ availableLabel }}
      ({{ available.length }})
    </label>
    <div class="select">
      <ul class="no-padding">
        <li ng-repeat="entity in available">
          <label class="checkbox" title="{{ renderTitle(entity) }}" ng-class="{'checked':selected.available[$index].selected}">
            <div class="checker" ng-click="selected.available[$index].selected=!selected.available[$index].selected">
              <span ng-class="{checked: selected.available[$index].selected}"></span>
            </div>

            <!--<input type="checkbox" class="checkbox" ng-model="selected.available[$index].selected">-->
            {{ renderItem(entity) }}
          </label>
        </li>
      </ul>
    </div>
  </div>

  <input type="number"
         name="numSelected"
         ng-model="numSelected"
         style="display: none">
</div>
